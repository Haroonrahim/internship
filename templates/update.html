{% extends 'base.html' %}
{% include 'navbar.html' %}
{% block title %}Update Event{% endblock %}
{% block content %}
<div class="card mx-auto" style="max-width: 500px;">
    <div class="card-body">
        <h3 class="card-title text-center mb-4">Update Event</h3>
        {% if msg %}
        <div class="alert alert-info text-center">{{ msg }}</div>
        {% endif %}
        <form method="POST">
            <!-- Hidden event ID -->
            <input type="hidden" name="event_id" value="{{ event[0] if event else '' }}">
            
            <div class="mb-3">
                <label class="form-label">New Event Name</label>
                <input type="text" class="form-control" name="event_name" required value="{{ event[1] if event else '' }}">
            </div>
            <div class="mb-3">
                <label class="form-label">New Event Date</label>
                <input type="date" class="form-control" name="event_date" min="{{ current_date }}" required value="{{ event[2] if event else '' }}">
            </div>
            <div class="mb-3">
                <label class="form-label">New Event Time</label>
                <select class="form-control" name="event_time" required>
                    {% for time in event_times %}
                    <option value="{{ time }}" {% if event and event[3] == time %}selected{% endif %}>{{ time }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label">New Event Location</label>
                <select class="form-control" name="event_location" required>
                    {% for loc in event_locations %}
                    <option value="{{ loc }}" {% if event and event[4] == loc %}selected{% endif %}>{{ loc }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label">New Event Description</label>
                <input type="text" class="form-control" name="event_description" required value="{{ event[5] if event else '' }}">
            </div>
            <button type="submit" class="btn btn-warning w-100">Update Event</button>
        </form>
    </div>
</div>
{% endblock %}
